@page "/catalog"
@using BlazorOnlineShop.Interfaces;
@using BlazorOnlineShop.Objects;
@inject ICatalog catalog
@inject IClock clock

<div style="background-color:beige; border-radius:5px; padding:50px;">

	<h1 style="text-align:center;">Shop Catalog</h1>
	<hr style="height:3px; background-color:black; border:none;" />

@foreach(var product in products)
{
		<div style="display:inline-block;  border-radius:5px; margin:20px; padding:5px; width:fit-content; border-style:solid; background-color:white;">

		<div style="border-style:groove; align-self:center; text-align:center;  padding:5px;  border-radius:5px; margin:5px; width:fit-content;">
			Name: @product.Name
		</div>

			<div style="border-style:groove; align-self:center; text-align:center;  padding:5px;  border-radius:5px; margin:5px; width:fit-content;">
			Description: @product.Description
		</div>

		<div style="border-style:groove; align-self:center; text-align:center; padding:5px;  border-radius:5px; margin:5px; width:fit-content;">
			Stock: @product.Stock
		</div>

	</div>
}

</div>


@code {
	private List<Product>? products;

	protected override async Task OnInitializedAsync()
	{
		products = await catalog.GetProductsAsync(clock);
	}

}
